<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Debug OAuth2 - PetCare</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h3 class="card-title mb-0">üîß Debug OAuth2 - PetCare</h3>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info">
                            <h5>Estado de la Aplicaci√≥n</h5>
                            <p><strong>Servidor:</strong> ‚úÖ Ejecut√°ndose en puerto 8080</p>
                            <p><strong>Base de Datos:</strong> ‚úÖ Conectada (MySQL)</p>
                            <p><strong>Configuraci√≥n OAuth2:</strong> ‚úÖ Cargada</p>
                        </div>

                        <div class="alert alert-warning">
                            <h5>Configuraci√≥n Actual</h5>
                            <ul>
                                <li><strong>Client ID:</strong> 287224420958-mn5u1l0v7kbhn5n8o6vb8n48t5037hhc.apps.googleusercontent.com</li>
                                <li><strong>Redirect URI:</strong> http://localhost:8080/login/oauth2/code/google (por defecto)</li>
                                <li><strong>Scopes:</strong> openid, profile, email</li>
                                <li><strong>Provider:</strong> Google</li>
                            </ul>
                        </div>

                        <div class="mb-4">
                            <h5>üß™ Pruebas OAuth2</h5>
                            <div class="d-grid gap-2">
                                <a href="/oauth2/authorization/google" class="btn btn-success btn-lg">
                                    üöÄ Iniciar Flujo OAuth2 con Google
                                </a>
                                <a href="/login" class="btn btn-secondary">
                                    üìù Ir a P√°gina de Login Normal
                                </a>
                            </div>
                        </div>

                        <div class="alert alert-light">
                            <h6>üìã Instrucciones de Debug:</h6>
                            <ol>
                                <li>Haz clic en "Iniciar Flujo OAuth2 con Google"</li>
                                <li>Si te redirige a Google, el flujo inicia correctamente</li>
                                <li>Si te redirige de vuelta con error, revisa los logs de la aplicaci√≥n</li>
                                <li>Si ves "C√≥digo de Autorizaci√≥n Recibido", el callback funciona</li>
                                <li>Si llegas al dashboard, todo funciona correctamente</li>
                            </ol>
                        </div>

                        <div class="alert alert-danger">
                            <h6>üö® Posibles Problemas:</h6>
                            <ul>
                                <li>URI de redirecci√≥n no configurada en Google Cloud Console</li>
                                <li>Credenciales incorrectas en application.properties</li>
                                <li>Problemas de red o firewall bloqueando Google</li>
                                <li>Configuraci√≥n de scopes insuficiente</li>
                            </ul>
                        </div>

                        <div class="mt-4">
                            <a href="/" class="btn btn-outline-primary">üè† Volver al Inicio</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
